{"ast":null,"code":"var _jsxFileName = \"/home/pe/Documents/Code/Projects/still-quay/frontend/src/components/QuayStatus.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass QuayStatus extends Component {\n  constructor(props) {\n    super(props);\n\n    this.status = () => {\n      if (this.state.safeToday) {\n        return \"SAFE\";\n      } else {\n        return \"IN DANGER!\";\n      }\n    };\n\n    this.onClick = e => {\n      e.preventDefault(); // console.log(this.state.stationId);\n\n      console.log(this.state.tides);\n      axios.get('http://localhost:5000/tides/' + this.state.stationId).then(response => {\n        this.setState({\n          tides: response.data\n        });\n        console.log(this.state.tides);\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      quayname: '',\n      location: '',\n      stationId: '',\n      safeToday: true,\n      tides: [],\n      stationCoordinates: '',\n      stationName: '',\n      stationCountry: ''\n    };\n  } // the tides are requested from here, but are pulled from admiralty from the BE and returned here.\n\n\n  componentDidMount() {\n    console.log(this.state.stationId);\n    axios.get('http://localhost:5000/quays/' + this.props.match.params.id).then(response => {\n      this.setState({\n        stationId: response.data.stationId\n      });\n      axios.get('http://localhost:5000/tides/' + this.state.stationId).then(response => {\n        this.setState({\n          tides: response.data\n        });\n      }).catch(err => console.log(err));\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Show Tides\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"These are the tides\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"The \", this.state.quayname, \" quay is currently \", this.status()));\n  }\n\n}\n\nexport default QuayStatus;","map":{"version":3,"sources":["/home/pe/Documents/Code/Projects/still-quay/frontend/src/components/QuayStatus.js"],"names":["React","Component","axios","QuayStatus","constructor","props","status","state","safeToday","onClick","e","preventDefault","console","log","tides","get","stationId","then","response","setState","data","catch","err","quayname","location","stationCoordinates","stationName","stationCountry","componentDidMount","match","params","id","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AACjCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA+BnBC,MA/BmB,GA+BV,MAAM;AACb,UAAG,KAAKC,KAAL,CAAWC,SAAd,EAAyB;AACvB,eAAO,MAAP;AACD,OAFD,MAEO;AACL,eAAO,YAAP;AACD;AACF,KArCkB;;AAAA,SAuCnBC,OAvCmB,GAuCRC,CAAD,IAAO;AACfA,MAAAA,CAAC,CAACC,cAAF,GADe,CAGf;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWO,KAAvB;AACAZ,MAAAA,KAAK,CAACa,GAAN,CAAU,iCAAiC,KAAKR,KAAL,CAAWS,SAAtD,EACGC,IADH,CACQC,QAAQ,IAAI;AAChB,aAAKC,QAAL,CAAc;AAACL,UAAAA,KAAK,EAAEI,QAAQ,CAACE;AAAjB,SAAd;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWO,KAAvB;AAA8B,OAHlC,EAIGO,KAJH,CAISC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAJhB;AAKD,KAjDkB;;AAGjB,SAAKf,KAAL,GAAa;AACXgB,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXR,MAAAA,SAAS,EAAE,EAHA;AAIXR,MAAAA,SAAS,EAAE,IAJA;AAKXM,MAAAA,KAAK,EAAC,EALK;AAMXW,MAAAA,kBAAkB,EAAE,EANT;AAOXC,MAAAA,WAAW,EAAC,EAPD;AAQXC,MAAAA,cAAc,EAAE;AARL,KAAb;AAUD,GAdgC,CAgBjC;;;AACAC,EAAAA,iBAAiB,GAAG;AAClBhB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWS,SAAvB;AACAd,IAAAA,KAAK,CAACa,GAAN,CAAU,iCAAiC,KAAKV,KAAL,CAAWwB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAnE,EACCd,IADD,CACMC,QAAQ,IAAI;AAChB,WAAKC,QAAL,CAAc;AAACH,QAAAA,SAAS,EAAEE,QAAQ,CAACE,IAAT,CAAcJ;AAA1B,OAAd;AACAd,MAAAA,KAAK,CAACa,GAAN,CAAU,iCAAiC,KAAKR,KAAL,CAAWS,SAAtD,EACGC,IADH,CACQC,QAAQ,IAAI;AAClB,aAAKC,QAAL,CAAc;AAACL,UAAAA,KAAK,EAAEI,QAAQ,CAACE;AAAjB,SAAd;AAAsC,OAFxC,EAGCC,KAHD,CAGOC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAHd;AAGgC,KANlC,EAQCD,KARD,CAQOC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CARd;AASD;;AAyBDU,EAAAA,MAAM,GAAG;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,OAAO,EAAE,KAAKvB,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACO,KAAKF,KAAL,CAAWgB,QADlB,yBAC+C,KAAKjB,MAAL,EAD/C,CARF,CADF;AAeD;;AAtEgC;;AAyEnC,eAAeH,UAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from 'axios';\n\nclass QuayStatus extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      quayname: '',\n      location: '',\n      stationId: '',\n      safeToday: true,\n      tides:[],\n      stationCoordinates: '',\n      stationName:'',\n      stationCountry: ''\n    }\n  }\n\n  // the tides are requested from here, but are pulled from admiralty from the BE and returned here.\n  componentDidMount() {\n    console.log(this.state.stationId);\n    axios.get('http://localhost:5000/quays/' + this.props.match.params.id)\n    .then(response => {\n      this.setState({stationId: response.data.stationId});\n      axios.get('http://localhost:5000/tides/' + this.state.stationId)\n        .then(response => {\n        this.setState({tides: response.data})})\n      .catch(err => console.log(err))}\n      )\n    .catch(err => console.log(err))\n  }\n  \n  \n\n  status = () => {\n    if(this.state.safeToday) {\n      return \"SAFE\"\n    } else {\n      return \"IN DANGER!\"\n    }\n  }\n\n  onClick = (e) => {\n    e.preventDefault();\n\n    // console.log(this.state.stationId);\n    console.log(this.state.tides)\n    axios.get('http://localhost:5000/tides/' + this.state.stationId)\n      .then(response => {\n        this.setState({tides: response.data})\n        console.log(this.state.tides)})\n      .catch(err => console.log(err));\n  }\n\n\n  render() {\n\n    return(\n      <div>\n        <button onClick={this.onClick}>\n          Show Tides\n        </button>\n        <p>\n          These are the tides \n          {/* {console.log(this.state.tides)} */}\n        </p>\n        <p>\n          The {this.state.quayname} quay is currently {this.status()}\n        </p>\n      </div>\n\n    );\n  }\n}\n\nexport default QuayStatus;"]},"metadata":{},"sourceType":"module"}